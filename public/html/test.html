<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="/js/jquery-3.2.1.min.js"></script>
    <script src="/js/socket.io.slim.js"></script>
	<style>
	td {border: solid 1px #000000}
	#b {font-size:20px; background-color:#ccd0ce;    width: fit-content ;     cursor: -webkit-grab;}
	#c {font-size:20px; background-color:#ccd0ce;    width: fit-content ;     cursor: -webkit-grab;}
	</style>
</head>
<body>
  <form action="/login" method="post" name="form_login" id="form_login">
  <p>  login</p>
   ID <input type="text" name="username"/><br>
   PW <input type="password" name="password" />
   <input type="submit" value="login"/>
   </form>
<div>
  <br><br>
  회원가입<br>
  select user type<br>
  <input type="radio" name="chk_info" id="freelancer" value="Freelancer" onclick="dispList('0')">freelancer
  <input type="radio" name="chk_info" id="ProjClient" value="ProjClient" onclick="dispList('1')">project_client
</div>
<div id = "insert_freelancer" style="display:none">
    id: <input id = "id" type="text" name="id" required/><br>
    password: <input id = "password" type="password" name="password" required/><br>
    name: <input id = "name" type="text" name="name" placeholder="홍길동" required/><br>
		phone: <input id = "phone" type="text" name="phone"placeholder="000-0000-0000" required/><br>
    age: <input id = "age" type="number" name="age" placeholder="20"required/><br>
    career: <input id = "career" type="number" name="career"placeholder="3" required/><br>
    major: <input id = "major" type="text" name="major"placeholder="컴퓨터" required/><br>
    skilledAt: <input id = "skilledAt" type="text" name="skilledAt" required/><br>
    level: <input id = "level" type="number" name="level" required/><br>
    outer portfolio <input id="file" type="file" name="file"/>
    <br>
    <input type="submit" value="submit" id = "c_freelancer"/>
</div>
<div id = "insert_projclient" style="display:none">
    id: <input id = "id" type="text" name="id" required/><br>
    password: <input id = "password" type="password" name="password"placeholder="****" required/><br>
    name: <input id  = "name" type="text" name="name" placeholder="홍길동" required/><br>
		phone: <input id = "phone" type="tel" name="phone" placeholder="000-0000-0000"required/>
    <br>
    <input type="submit" value="submit" id = "c_projclient"/>
</div>

<script>
  function dispList(selectList) {
    var obj1 = document.getElementById("insert_freelancer");
    var obj2 = document.getElementById("insert_projclient");
    if( selectList == "0" ) {
      obj1.style.display = "block";
      obj2.style.display = "none";
      alert(	obj.style.display );
    } else {
      obj1.style.display = "none";
      obj2.style.display = "block";
    }
  }
    $(function() {
      var socket = io();

      socket.on('asd', function(msg) {
        console.log(msg);
      });
	   $('#c_freelancer').click(function(){
	    var v = {
      id: $("#insert_freelancer #id").val(),
  		password: $("#insert_freelancer #password").val(),
      age: $("#insert_freelancer #age").val(),
			name: $("#insert_freelancer #name").val(),
			phone: $("#insert_freelancer #phone").val(),
      career: $("#insert_freelancer #career").val(),
			major: $("#insert_freelancer #major").val(),
      skilledAt: $("#insert_freelancer #skilledAt").val(),
      level: $("#insert_freelancer #level").val(),
      file: $("#insert_freelancer #file").val(),
		}
		$.ajax({
        type: 'post',
        url: '/users/insert_freelancer',
		data: v,
        success: function(data) {
		  alert("insert 성공")
		},
        error: function(err) {
          alert("모든 항목을 정확히 채워주세요")
          console.log(err);
        }
      });
	  })
    $('#c_projclient').click(function(){
     var v = {
     id: $("#insert_freelancer #id").val(),
     password: $("#insert_freelancer #password").val(),
     name: $("#insert_freelancer #name").val(),
     phone: $("#insert_freelancer #phone").val(),
    }
    $.ajax({
       type: 'post',
       url: '/users/insert_projclient',
    data: v,
       success: function(data) {
     alert("insert 성공")
    },
       error: function(err) {
         alert("모든 항목을 정확히 채워주세요")
         console.log(err);
       }
     });
    })
    });
</script>
</body>
</html>
